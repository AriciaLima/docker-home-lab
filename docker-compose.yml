services:

  portainer:
    image: portainer/portainer-ce:latest
    container_name: portainer
    command: -H unix:///var/run/docker.sock
    ports:
      - "9000:9000"
      - "9443:9443"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /media/aricia/HD/docker/portainer/data:/data
    restart: unless-stopped


  pihole:
    image: pihole/pihole:latest
    container_name: pihole
    ports:
      - "53:53/tcp"
      - "53:53/udp"
      - "80:80"
    environment:
      - TZ=Europe/Lisbon
      - FTLCONF_dns_listeningMode=all
      - WEBPASSWORD=
      - PIHOLE_DNS_=
    volumes:
      - /media/aricia/HD/docker/pihole/etc-pihole:/etc/pihole
      - /media/aricia/HD/docker/pihole/etc-dnsmasq.d:/etc/dnsmasq.d
    cap_add:
      - NET_ADMIN
      - SYS_TIME
      - SYS_NICE
    restart: unless-stopped


  komga:
    image: gotson/komga:latest
    container_name: komga
    user: "1000:1000"
    ports:
      - "25600:25600"
    environment:
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/komga/config:/config
      - /media/aricia/HD/server/komgaserver/Mang√°:/data/manga
      - /media/aricia/HD/server/komgaserver/HQ:/data/hq
      - /etc/timezone:/etc/timezone:ro
    restart: unless-stopped


  qbittorrent:
    image: lscr.io/linuxserver/qbittorrent:latest
    container_name: qbittorrent
    ports:
      - "8080:8080"
      - "6881:6881"
      - "6881:6881/udp"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
      - WEBUI_PORT=8080
      - TORRENTING_PORT=6881
    volumes:
      - /media/aricia/HD/docker/qbittorrent/config:/config
      - /media/aricia/HD/server/downloads:/downloads
    restart: unless-stopped


  jackett:
    image: lscr.io/linuxserver/jackett:latest
    container_name: jackett
    ports:
      - "9117:9117"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/jackett/config:/config
      - /media/aricia/HD/server/downloads:/downloads
    restart: unless-stopped


  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    container_name: sonarr
    ports:
      - "8989:8989"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/sonarr/config:/config
      - /media/aricia/HD/server/series:/tv
      - /media/aricia/HD/server/desenhos:/cartoons
      - /media/aricia/HD/server/anime:/anime
      - /media/aricia/HD/server/downloads:/downloads
    restart: unless-stopped


  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: radarr
    ports:
      - "7878:7878"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/radarr/config:/config
      - /media/aricia/HD/server/movies:/movies
      - /media/aricia/HD/server/downloads:/downloads
    restart: unless-stopped


  lidarr:
    image: lscr.io/linuxserver/lidarr:latest
    container_name: lidarr
    ports:
      - "8686:8686"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/lidarr/config:/config
      - /media/aricia/HD/server/plexamp:/music
      - /media/aricia/HD/server/downloads:/downloads
    restart: unless-stopped


  overseerr:
    image: lscr.io/linuxserver/overseerr:latest
    container_name: overseerr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/overseerr/config:/config
    ports:
      - "5055:5055"
    restart: unless-stopped


  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    ports:
      - "9696:9696"
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Lisbon
    volumes:
      - /media/aricia/HD/docker/prowlarr/config:/config
    restart: unless-stopped


  flaresolverr:
    image: ghcr.io/flaresolverr/flaresolverr:latest
    container_name: flaresolverr
    ports:
      - "8191:8191"
    restart: unless-stopped


  plex:
    image: lscr.io/linuxserver/plex:latest
    container_name: plex
    network_mode: host
    environment:
      - PUID=1000
      - PGID=1000
      - VERSION=docker
      - TZ=Europe/Lisbon
      - PLEX_MEDIA_SERVER_TMPDIR=/transcode
    volumes:
      - /etc/timezone:/etc/timezone:ro
      - /media/aricia/HD/docker/plex/config:/config
      - /media/aricia/HD/docker/plex/transcode:/transcode
      - /media/aricia/HD/server/plexamp:/data/music
      - /media/aricia/HD/server/movies:/data/movies
      - /media/aricia/HD/server/series:/data/series
      - /media/aricia/HD/server/anime:/data/anime
      - /media/aricia/HD/server/desenhos:/data/cartoons
      - /media/aricia/HD/server/downloads:/data/downloads
    restart: unless-stopped
